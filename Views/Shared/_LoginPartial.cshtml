@using Microsoft.AspNetCore.Identity
@using MyBlog.Areas.Identity.Data;

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@if (SignInManager.IsSignedIn(User))
{
    <li class="dropdown_btn_click">
       
        <a  title="Manage" class="user_info_nav">
        
            @UserManager.GetUserName(User)<span class="glyphicon glyphicon-chevron-down" style="margin-left:5px;"></span>
        </a>
        <ul class="dropMenu_click">
            
            <a class="dropdown_click_item" asp-controller="Catergories" asp-action="Details" asp-route-name="技术"><li style="list-style-type:none;">技术</li></a>
            <a class="dropdown_click_item" asp-controller="Catergories" asp-action="Details" asp-route-name="生活"><li style="list-style-type:none;">生活</li></a>
            <a class="dropdown_click_item" asp-controller="Catergories" asp-action="Details" asp-route-name="音乐"><li style="list-style-type:none;">音乐</li></a>
            <li style="list-style-type:none;display: block;width: 100%;height: 41px;border-bottom: 1px solid #eee;padding: 10px 0;">
                <form asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Blogs", new { area = "" })" method="post" id="logoutForm" class="" style="padding: 0 15px;">

                    <button type="submit" class="btn_logout">退出登陆</button>

                </form>
            </li>
        </ul>
    </li>
}
else
{
    <li class="active"><a asp-area="Identity" asp-page="/Account/Register">注册</a></li>
    <li class="active"><a asp-area="Identity" asp-page="/Account/Login">登陆</a></li>
}